!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.scrollIntoView=e()}(this,function(){"use strict";var t,e=function(){var e=document;return t||(t="CSS1Compat"!==e.compatMode&&e.scrollingElement||e.documentElement),t};function o(t){return null!=t&&"object"==typeof t&&(1===t.nodeType||11===t.nodeType)}function n(t,e,o){var n=getComputedStyle(t,null)[e];return(!o||"hidden"!==n)&&("visible"!==n&&"clip"!==n)}function r(t,o){return t===e()||t.clientHeight<t.scrollHeight&&n(t,"overflowY",o)||t.clientWidth<t.scrollWidth&&n(t,"overflowX",o)}function i(t,e,o,n,r,i,l,c){return i<t&&l>e||i>t&&l<e?0:i<t&&c<o||l>e&&c>o?i-t-n:l>e&&c<o||i<t&&c>o?l-e+r:0}var l,c=function(t,n){var l=n.scrollMode,c=n.block,f=n.inline,u=n.boundary,d=n.skipOverflowHiddenElements,s="function"==typeof u?u:function(t){return t!==u};if(!o(t))throw new Error("Element is required in scrollIntoView");for(var a,h=t.getBoundingClientRect(),p=[];o(a=t.parentNode||t.host)&&s(t);)r(a,d)&&p.push(a),t=a;var w=e(),m=window.visualViewport?window.visualViewport.width:Math.min(w.clientWidth,window.innerWidth),v=window.visualViewport?window.visualViewport.height:Math.min(w.clientHeight,window.innerHeight),g=window.scrollX||window.pageXOffset,b=window.scrollY||window.pageYOffset;if("if-needed"===l&&p.every(function(t){var e=t.getBoundingClientRect();if(h.top<e.top)return!1;if(h.bottom>e.bottom)return!1;if(t===w){if(h.bottom>v||h.top<0)return!1;if(h.left>m||h.right<0)return!1}return!0}))return[];var y="start"===c?h.top:"end"===c?h.bottom:"nearest"===c?h.top:h.top+h.height/2,T="start"===f?h.left:"center"===f?h.left+h.width/2:"end"===f?h.right:h.left;return p.map(function(t){var e=t.getBoundingClientRect(),o=getComputedStyle(t),n=parseInt(o.borderLeftWidth,10),r=parseInt(o.borderTopWidth,10),l=parseInt(o.borderRightWidth,10),u=parseInt(o.borderBottomWidth,10),d="offsetWidth"in t?t.offsetWidth-t.clientWidth-n-l:0,s="offsetHeight"in t?t.offsetHeight-t.clientHeight-r-u:0,a=0,p=0;return a="start"===c?w===t?b+y:y-e.top-r:"end"===c?w===t?b+(y-v):t.scrollTop-(e.bottom-y)+u+s:"nearest"===c?w===t?b+i(b,b+v,v,r,u,b+y,b+y+h.height,h.height):t.scrollTop+i(e.top,e.bottom,e.height,r,u+s,y,y+h.height,h.height):w===t?b+y-v/2:t.scrollTop-(e.top+e.height/2-y),p="start"===f?w===t?g+T:t.scrollLeft+(T-e.left)-n:"center"===f?w===t?g+T-m/2:t.scrollLeft-(e.left+e.width/2-T):"end"===f?w===t?g+(T-m):t.scrollLeft-(e.right-T)+l+d:w===t?g+i(g,g+m,m,n,l,g+T,g+T+h.width,h.width):t.scrollLeft+i(e.left,e.right,e.width,n,l+d,T,T+h.width,h.width),y+=t.scrollTop-a,T+=t.scrollLeft-p,{el:t,top:a,left:p}})};function f(t){return t===Object(t)&&0!==Object.keys(t).length}function u(t,o){if(f(o)&&"function"==typeof o.behavior)return o.behavior(c(t,o));var n=function(t){return!1===t?{block:"end",inline:"nearest"}:f(t)?t:{block:"start",inline:"nearest"}}(o);return function(t,o){void 0===o&&(o="auto");var n=e();t.forEach(function(t){var e=t.el,r=t.top,i=t.left;e.scroll&&"scrollBehavior"in n.style?e.scroll({top:r,left:i,behavior:o}):e===n?scrollTo(i,r):(e.scrollTop=r,e.scrollLeft=i)})}(c(t,n),n.behavior)}var d=function(){return l||(l="performance"in window?performance.now.bind(performance):Date.now),l()};function s(t,e,o,n,r,i){var l,c,f,u;void 0===n&&(n=450),void 0===r&&(r=function(t){return 1+--t*t*t*t*t}),t===document.documentElement?(l=window,c=window.scrollX||window.pageXOffset,f=window.scrollY||window.pageYOffset,u=function(t,e){return window.scroll(t,e)}):(l=t,c=t.scrollLeft,f=t.scrollTop,u=function(e,o){t.scrollLeft=e,t.scrollTop=o}),function t(e){var o=d(),n=Math.min((o-e.startTime)/e.duration,1),r=e.ease(n),i=e.startX+(e.x-e.startX)*r,l=e.startY+(e.y-e.startY)*r;e.method(i,l),i===e.x&&l===e.y||requestAnimationFrame(function(){return t(e)})}({scrollable:l,method:u,startTime:d(),startX:c,startY:f,x:e,y:o,duration:n,ease:r,cb:i})}var a=function(t){return t&&!t.behavior||"smooth"===t.behavior};return function(t,e){if(a(e)){var o=e||{};return u(t,{block:o.block,inline:o.inline,scrollMode:o.scrollMode,boundary:o.boundary,behavior:function(t){return Promise.all(t.map(function(t){var e=t.el,n=t.left,r=t.top;return new Promise(function(t){return s(e,n,r,o.duration,o.ease,function(){return t()})})}))}})}return u(t,e)}});
