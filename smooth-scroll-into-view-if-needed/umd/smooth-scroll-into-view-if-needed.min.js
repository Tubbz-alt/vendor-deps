!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.scrollIntoView=e()}(this,function(){"use strict";function t(t){return null!=t&&"object"==typeof t&&(1===t.nodeType||11===t.nodeType)}function e(t,e){return(!e||"hidden"!==t)&&("visible"!==t&&"clip"!==t)}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)}return!1}function r(t,e,n,r,o,i,l,a){return i<t&&l>e||i>t&&l<e?0:i<t&&a<n||l>e&&a>n?i-t-r:l>e&&a<n||i<t&&a>n?l-e+o:0}var o,i=function(e,o){var i=o.scrollMode,l=o.block,a=o.inline,c=o.boundary,u=o.skipOverflowHiddenElements,s="function"==typeof c?c:function(t){return t!==c};if(!t(e))throw new TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,d=[],h=e;t(h)&&s(h);){if((h=h.parentNode||h.host)===f){d.push(h);break}h===document.body&&n(h)&&!n(document.documentElement)||n(h,u)&&d.push(h)}for(var p=window.visualViewport?visualViewport.width:innerWidth,m=window.visualViewport?visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,w=e.getBoundingClientRect(),g=w.height,y=w.width,T=w.top,W=w.right,M=w.bottom,x=w.left,k="start"===l||"nearest"===l?T:"end"===l?M:T+g/2,H="center"===a?x+y/2:"end"===a?W:x,E=[],I=0;I<d.length;I++){var L=d[I],X=L.getBoundingClientRect(),Y=X.height,O=X.width,V=X.top,j=X.right,B=X.bottom,C=X.left;if("if-needed"===i&&T>=0&&x>=0&&M<=m&&W<=p&&T>=V&&M<=B&&x>=C&&W<=j)return E;var P=getComputedStyle(L),R=parseInt(P.borderLeftWidth,10),S=parseInt(P.borderTopWidth,10),q=parseInt(P.borderRightWidth,10),A=parseInt(P.borderBottomWidth,10),D=0,F=0,N="offsetWidth"in L?L.offsetWidth-L.clientWidth-R-q:0,z="offsetHeight"in L?L.offsetHeight-L.clientHeight-S-A:0;if(f===L)D="start"===l?k:"end"===l?k-m:"nearest"===l?r(b,b+m,m,S,A,b+k,b+k+g,g):k-m/2,F="start"===a?H:"center"===a?H-p/2:"end"===a?H-p:r(v,v+p,p,R,q,v+H,v+H+y,y),D=Math.max(0,D+b),F=Math.max(0,F+v);else{D="start"===l?k-V-S:"end"===l?k-B+A+z:"nearest"===l?r(V,B,Y,S,A+z,k,k+g,g):k-(V+Y/2)+z/2,F="start"===a?H-C-R:"center"===a?H-(C+O/2)+N/2:"end"===a?H-j+q+N:r(C,j,O,R,q+N,H,H+y,y);var G=L.scrollLeft,J=L.scrollTop;k+=J-(D=Math.max(0,Math.min(J+D,L.scrollHeight-Y+z))),H+=G-(F=Math.max(0,Math.min(G+F,L.scrollWidth-O+N)))}E.push({el:L,top:D,left:F})}return E};function l(t){return t===Object(t)&&0!==Object.keys(t).length}function a(t,e){if(l(e)&&"function"==typeof e.behavior)return e.behavior(i(t,e));var n=function(t){return!1===t?{block:"end",inline:"nearest"}:l(t)?t:{block:"start",inline:"nearest"}}(e);return function(t,e){void 0===e&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach(function(t){var r=t.el,o=t.top,i=t.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:e}):(r.scrollTop=o,r.scrollLeft=i)})}(i(t,n),n.behavior)}var c=function(){return o||(o="performance"in window?performance.now.bind(performance):Date.now),o()};function u(t,e,n,r,o,i){var l,a,u;void 0===r&&(r=600),void 0===o&&(o=function(t){return 1+--t*t*t*t*t}),l=t,a=t.scrollLeft,u=t.scrollTop,function t(e){var n=c(),r=Math.min((n-e.startTime)/e.duration,1),o=e.ease(r),i=e.startX+(e.x-e.startX)*o,l=e.startY+(e.y-e.startY)*o;e.method(i,l),i!==e.x||l!==e.y?requestAnimationFrame(function(){return t(e)}):e.cb()}({scrollable:l,method:function(e,n){t.scrollLeft=e,t.scrollTop=n},startTime:c(),startX:a,startY:u,x:e,y:n,duration:r,ease:o,cb:i})}var s=function(t){return t&&!t.behavior||"smooth"===t.behavior};return function(t,e){var n=e||{};return s(n)?a(t,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(t){return Promise.all(t.reduce(function(t,e){var r=e.el,o=e.left,i=e.top,l=r.scrollLeft,a=r.scrollTop;return l===o&&a===i?t:t.concat([new Promise(function(t){return u(r,o,i,n.duration,n.ease,function(){return t({el:r,left:[l,o],top:[a,i]})})})])},[]))}}):Promise.resolve(a(t,e))}});
